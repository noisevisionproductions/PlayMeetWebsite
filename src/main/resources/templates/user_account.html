<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Profil użytkownika</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico"/>
    <!-- Font Awesome icons (free version)-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js"
            crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet"/>
    <link rel="stylesheet" href="/css/user_account.css">
    <link href="/css/individual_post_style.css" rel="stylesheet"/>
</head>
<body>

<div class="menuButtonContainer">
    <a th:href="@{/}" class="mainMenuButton">Menu główne</a>
</div>

<div class="profile-container">
    <div class="profile-header">
        <div class="avatar">
            <img th:src="${user.avatar != null} ? ${user.avatar} : '/assets/post/sample_avatar.png'"
                 alt="Avatar użytkownika" class="user-avatar" src="">
        </div>
        <div class="user-info">
            <div class="header-actions">
                <h2 class="nickname"
                    th:text="${user.nickname != null} ? ${user.nickname} : 'Profil nie został uzupełniony.'"></h2>
                <a th:href="@{/user_account/{userId}/edit(userId=${user.userId})}" class="editProfileButton"
                   th:if="${isOwnProfile}">Edytuj profil
                </a>
                <a href="#" class="logoutButton"
                   th:if="${isOwnProfile}" onclick="performLogout()">Wyloguj się
                </a>
            </div>
            <p class="real-name"><strong>Imię:</strong> <span
                    th:text="${user.name != null} ?  ${user.name} : 'Nie podano'"></span></p>
            <p class="age"><strong>Wiek:</strong> <span
                    th:text="${user.age != null} ?  ${user.age} : 'Nie podano'"></span></p>
            <p class="gender"><strong>Płeć:</strong> <span
                    th:text="${user.gender != null} ?  ${user.gender} : 'Nie podano'"></span></p>
            <p class="city"><strong>Miasto:</strong> <span
                    th:text="${user.location != null} ?  ${user.location} : 'Nie podano'"></span></p>
        </div>
    </div>
    <div class="about-me">
        <h3>O mnie</h3>
        <p th:text="${user.aboutMe != null} ?  ${user.aboutMe} : 'Nie podano'"></p>
    </div>
    <div class="user-posts">
        <h3 class="post-header" th:if="${isOwnProfile}">Twoje posty</h3>
        <h3 class="post-header" th:unless="${isOwnProfile}">Posty użytkownika</h3>
        <div th:if="${userPosts != null and userPosts.size() > 0}">
            <div th:each="post : ${userPosts}" th:insert="~{fragments/post_fragment :: post}"></div>
        </div>
        <div th:if="${userPosts == null or userPosts.size() == 0}">
            <p class="no-posts">Brak postów użytkownika.</p>
        </div>
    </div>
    <div class="user-posts" th:if="${isOwnProfile}">
        <h3 class="post-header">Posty, do których się zapisałeś</h3>
        <div th:if="${userRegisteredPosts != null and userRegisteredPosts.size() > 0}">
            <div th:each="post : ${userRegisteredPosts}" th:insert="~{fragments/post_fragment :: post}"></div>
        </div>
        <div th:if="${userRegisteredPosts == null or userRegisteredPosts.size() == 0}">
            <p class="no-posts">Nie zapisałeś się do żadnych aktywości.</p>
        </div>
    </div>
</div>
<script src="/js/user_account.js" defer></script>
</body>
</html>
